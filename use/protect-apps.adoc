---
sidebar: sidebar 
permalink: use/protect-apps.html 
keywords: backup, back up, backup apps, back up apps, snapshots, snapshot an app, take a snapshot, take a backup, view backups, view snapshots, set policy, set schedule, schedule backups, schedule snapshots 
summary: 自動保護ポリシーまたはアドホックベースを使用してスナップショットやバックアップを作成することで、アプリケーションを保護します。 
---
= Snapshot とバックアップでアプリケーションを保護
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/use/


[role="lead"]
自動保護ポリシーまたはアドホックベースを使用してスナップショットやバックアップを作成することで、アプリケーションを保護します。Astra の UI またはを使用できます https://docs.netapp.com/us-en/astra-automation/index.html["Astra Control API"^] アプリを保護します。

の詳細を確認してください link:../learn/data-protection.html["Astra Controlによるデータ保護"^]。

アプリケーションデータの保護に関連する次のタスクを実行できます。

* <<保護ポリシーを設定します>>
* <<Snapshot を作成します>>
* <<バックアップを作成します>>
* <<Snapshot とバックアップを表示します>>
* <<Snapshot を削除します>>
* <<バックアップをキャンセルします>>
* <<バックアップを削除します>>




== 保護ポリシーを設定します

保護ポリシーは、定義されたスケジュールでスナップショット、バックアップ、またはその両方を作成することでアプリケーションを保護します。Snapshot とバックアップを毎時、日次、週次、および月単位で作成し、保持するコピーの数を指定できます。

1 時間に 1 回以上の頻度でバックアップや Snapshot を実行する必要がある場合は、次の方法があります https://docs.netapp.com/us-en/astra-automation/workflows/workflows_before.html["Astra Control REST API を使用して、スナップショットとバックアップを作成"^]。

.手順
. 「 * アプリケーション」を選択し、管理アプリの名前を選択します。
. [ * データ保護 * ] を選択します。
. ［ 保護ポリシーの設定 ］ を選択します。
. 毎時、毎日、毎週、および毎月のスケジュールで保持する Snapshot とバックアップの数を選択して、保護スケジュールを定義します。
+
スケジュールは、毎時、毎日、毎週、および毎月の各スケジュールで同時に定義できます。Snapshot とバックアップの保持レベルを設定するまで、スケジュールはアクティブになりません。

+
バックアップの保持レベルを設定する際に、バックアップを格納するバケットを選択できます。

+
次の例では、 Snapshot とバックアップの保護スケジュールとして、毎時、毎日、毎週、毎月の 4 つを設定します。

+
image:screenshot-protection-policy.png["Snapshot とバックアップを毎時、毎日、毎週、または毎月作成する設定ポリシーの例のスクリーンショット。"]

. [* Review （レビュー） ] を選択します
. ［*保護ポリシーの設定*］を選択します。


.結果
Astra Control は、定義したスケジュールと保持ポリシーを使用して、スナップショットとバックアップを作成し、保持することによって、データ保護ポリシーを実装します。



== Snapshot を作成します

オンデマンド Snapshot はいつでも作成できます。

.手順
. 「 * アプリケーション * 」を選択します。
. 目的のアプリケーションの * アクション * 列のオプションメニューから、 * スナップショット * を選択します。
. スナップショットの名前をカスタマイズし、*次へ*を選択します。
. Snapshot の概要を確認し、「 * Snapshot * 」を選択します。


.結果
スナップショットプロセスが開始されます。スナップショットは'ステータスが* Healthy *である場合に成功します（* Data protection *>* Snapshots *ページの* State *列）



== バックアップを作成します

アプリケーションはいつでもバックアップできます。

ifdef::azure[]

[NOTE]
====
Azure NetApp Files ストレージでホストされているアプリケーションをバックアップするときは、ストレージスペースがどのように処理されるかに注意してください。を参照してください link:../learn/azure-storage.html#application-backups["アプリケーションのバックアップ"] を参照してください。

====
endif::azure[]

.手順
. 「 * アプリケーション * 」を選択します。
. 目的のアプリケーションの*アクション*列のオプションメニューから、*バックアップ*を選択します。
. バックアップ名をカスタマイズする。
. 既存のスナップショットからアプリケーションをバックアップするかどうかを選択します。このオプションを選択すると、既存の Snapshot のリストから選択できます。
. ストレージバケットのリストから、バックアップのデスティネーションバケットを選択します。
. 「 * 次へ * 」を選択します。
. バックアップの概要を確認し、「バックアップ」を選択します。


.結果
Astra Control ：アプリケーションのバックアップを作成


NOTE: 実行中のバックアップをキャンセルする必要がある場合は、の手順に従ってください <<バックアップをキャンセルします>>。バックアップを削除するには、完了するまで待ってから、の手順を実行します <<バックアップを削除します>>。



== Snapshot とバックアップを表示します

アプリケーションのスナップショットとバックアップは、 [ データ保護（ Data Protection ） ] タブで表示できます。

.手順
. 「 * アプリケーション」を選択し、管理アプリの名前を選択します。
. [ * データ保護 * ] を選択します。
+
デフォルトでは、 Snapshot が表示されます。

. バックアップのリストを参照するには、「* Backups」を選択します。




== Snapshot を削除します

不要になったスケジュール済みまたはオンデマンドの Snapshot を削除します。

.手順
. 「 * アプリケーション」を選択し、管理アプリの名前を選択します。
. [ * データ保護 * ] を選択します。
. 目的のスナップショットの * アクション * 列のオプションメニューから、 * スナップショットの削除 * を選択します。
. 削除を確認するために「 delete 」と入力し、「 * はい、 Snapshot を削除します * 」を選択します。


.結果
Astra Control がスナップショットを削除します。



== バックアップをキャンセルします

実行中のバックアップをキャンセルすることができます。


TIP: バックアップをキャンセルするには、バックアップが実行されている必要があります `Running` 状態。にあるバックアップはキャンセルできません `Pending` 状態。

.手順
. 「 * アプリケーション」を選択し、アプリケーションの名前を選択します。
. [ * データ保護 * ] を選択します。
. 「 * Backups * 」を選択します。
. 目的のバックアップの[*アクション*（* Actions *）]列の[オプション（Options）]メニューから、[*キャンセル*（* Cancel *）]を選択します。
. 処理を確認するために「CANCEL」と入力し、「* Yes、cancel backup *」を選択します。




== バックアップを削除します

不要になったスケジュール済みまたはオンデマンドのバックアップを削除します。


NOTE: 実行中のバックアップをキャンセルする必要がある場合は、の手順に従ってください <<バックアップをキャンセルします>>。バックアップを削除するには、完了するまで待ってから、次の手順を実行します。

.手順
. 「 * アプリケーション」を選択し、アプリケーションの名前を選択します。
. [ * データ保護 * ] を選択します。
. 「 * Backups * 」を選択します。
. 目的のバックアップの [ * アクション * ] 列の [ オプション ] メニューから、 [ * バックアップの削除 * ] を選択します。
. 削除を確認するために「 delete 」と入力し、「 * はい、バックアップを削除 * 」を選択します。


.結果
Astra Control がバックアップを削除する。
